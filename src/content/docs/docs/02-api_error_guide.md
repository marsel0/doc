---
title: "Обработка ошибок API"
--- 

При работе с API существует несколько видов ошибок, которые сопровождаются соответствующими HTTP-статусами. Ниже приведине примеры ошибок.

## Общие HTTP-ошибки

### 401 Unauthorized

**Описание:** Не передан авторизационный токен или токен невалиден

```json
{
  "statusCode": 401,
  "message": "Unauthorized"
}
```

### 404 Not Found

**Описание:** Запрошенного ресурса не существует

```json
{
  "statusCode": 404,
  "message": "Order not found",
  "error": "Not Found"
}
```

### 400 Bad Request (валидация)

**Описание:** Ошибка валидации запроса

```json
{
  "statusCode": 400,
  "error": "Bad Request",
  "message": {
    "property": "amount",
    "constraints": {
      "isPositive": "amount must be a positive number"
    }
  }
}
```

### 400 Bad Request (невозможность обработки)

**Описание:** Указанный объект невозможно обработать (неверный статус, invoice принят покупателем и т.д.)

```json
{
  "error": "Bad Request",
  "errorCode": "S10000",
  "errorMessage": "Shop is inactive",
  "statusCode": 400
}
```

### 500 Internal Server Error

**Описание:** Непредвиденная ошибка на сервере.

Если ошибка вернулась во время работы с ордером(создание/изменение) - обязантельно проверьте состояние оредра и по необходимости обратитесь в поддержку для решения проблемы.

```json
{
  "statusCode": 500,
  "message": "Internal server error"
}
```

## Коды ошибок API

| Код    | Описание                                                                                                          |
| ------ | ----------------------------------------------------------------------------------------------------------------- |
| S10000 | Магазин неактивен                                                                                                 |
| S10001 | Баланс магазина слишком низок                                                                                     |
| S10002 | Превышено время ожидания ответа согласно настройкам магазина                                                      |
| O10000 | Ордер находится в статусе, при котором выполнение действия невозможно                                             |
| O10001 | Недостаточно данных об оплате, чтобы инициировать процесс                                                         |
| O10002 | Превышено максимальное число активных ордеров для одного покупателя. Для изменения лимитов обратитесь в поддержку |
| O10003 | Ордер не найден                                                                                                   |
| O10004 | Некорректная сумма заказа. Проверьте лимиты в настройках магазина                                                 |
| O10005 | Нет реквизитов для конкретного способа оплаты и банка на данный момент                                            |
| O10006 | Ордер с таким externalOrderId уже существует                                                                      |
| O10007 | Найдено более одного ордера с одним externalOrderId. Обратитесь в поддержку                                       |
| O10008 | Клиент был заблокирован системой защиты от мошенничества. Попробуйте позже                                        |
| O10009 | Клиент не находится в белом списке                                                                                |
| O10010 | Сумма заказа запрещена системой защиты от мошенничества                                                           |
| C10000 | Не найден курс обмена валюты                                                                                      |
| C10001 | Валюта не найдена                                                                                                 |
| B10000 | Банк не найден                                                                                                    |
| P10000 | Тип оплаты не найден                                                                                              |
| T10000 | Способ торговли не найден                                                                                         |

