---
title: "Host to host (H2H) интеграция"
---

## PayIn платежи. H2H интеграция {#payin-платежи.-h2h-интеграция}

Данный вид интеграции осуществляется посредством пересылки платежей непосредственно Вам на сайт, где используется Ваша форма оплаты.

#### Рабочий процесс {#рабочий-процесс-1}

Магазин \- сайт, куда Вы интегрируете форму оплаты.
Клиент \- пользователь магазина, который совершает оплату.

Пошаговая инструкция по интеграции шлюза:

1. Клиент выбирает нужный тип оплаты и банк на Вашем сайте.
2. Создайте ордер через [API](https://domain/public/api/payin#tag/v1shoporders/operation/ShopOrdersControllerV1_createSyncRequisite) магазина. Данный метод создает запрос с уже подобранными реквизитами, которые выбрал клиент 1-ом шаге. Они хранятся в объекте payment.
3. Отобразите информацию о том, куда клиенту следует перевести деньги. Данная информация хранится в объекте requisites.
4. Клиент совершает перевод. Если на Вашем сайте есть возможность/кнопка подтверждения платежа, то после её нажатия необходимо выполнить запрос для [подтверждения оплаты](#подтверждение-оплаты) с нашей стороны. Подтверждение является опциональным шагом, операция может перейти к шагу №6 без него, если система подтвердит получение средств или переведет ордер в отмену.
5. Ордер переходит в статус подтверждения оплаты. Отобразите клиенту страницу / компонент с ожиданием подтверждения оплаты. Дождитесь изменения статуса ордера. Вы можете получить финальный статус ордера с помощью polling или callback-а от системы.
6. После того, как система подтвердила оплату или перевела ордер в диспут, отобразите клиенту страницу с результатом платежа:
   1. completed \- успешная оплата (подтверждено системой)
   2. dispute \- система перевела ордер в диспут (или закончилось время оплаты)
   3. cancelled \- ордер отменен клиентом или магазином (либо по таймауту)

